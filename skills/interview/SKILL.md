---
name: interview
description: タスク実行前にユーザーから必要な情報を引き出すインタビュースキル。新機能実装、コードレビュー、テストコード作成、リファクタリングなどの依頼時に、ユーザーが見落としがちな前提条件・制約・優先順位を明確化する。「/interview」や「まず質問して」「要件を整理して」などで起動。
---

# Task Interviewer

タスク実行前に、ユーザーが考慮できていない前提・制約・優先順位を引き出す。

## インタビューの目的

1. **隠れた前提の発見** - ユーザーが当然と思っている暗黙の前提を明文化
2. **制約条件の確認** - 技術的・ビジネス的な制約を洗い出す
3. **優先順位の明確化** - 複数の要件がある場合、何を優先すべきか確認

## インタビュールール

### 質問の原則

- **最大3問ずつ**質問する
- **自明な質問は避ける**（コードや会話から読み取れる情報は聞かない）
- **表面的な質問は避ける**（「何を作りますか？」のような既に分かっている内容は聞かない）

### 良い質問の例

```
- 「このAPIは認証が必要ですか？既存の認証基盤を使いますか？」
- 「エラー時の挙動は？リトライ？フォールバック？ユーザー通知？」
- 「パフォーマンス要件はありますか？（例：100ms以内、同時1000リクエスト）」
- 「既存のテストカバレッジ方針はありますか？」
- 「このリファクタは後方互換性を維持しますか？」
```

### 避けるべき質問の例

```
- 「何を作りたいですか？」（既に依頼されている）
- 「どの言語を使いますか？」（コードベースから明らか）
- 「ファイル名は何にしますか？」（自分で判断できる）
```

## 終了条件

以下のいずれかでインタビューを終了し、タスク実行に移る：

1. **ユーザーが終了を宣言** - 「十分」「始めて」「OK」など
2. **必要な情報が揃った** - 追加質問しても価値が低いと判断
3. **質問が思いつかない** - 自明でない質問がなければ終了

## インタビューフロー

```
1. 依頼内容を確認し、不明点を洗い出す
2. 最大3問の質問を提示（AskUserQuestionツールを活用）
3. 回答を受け、追加質問が必要か判断
4. 終了条件を満たしたら、収集した情報を要約してタスク開始
```

## 情報要約フォーマット

インタビュー終了時、以下の形式で整理してからタスクを開始する：

```markdown
## 収集した情報

| 項目 | 内容 |
|------|------|
| 目的 | ... |
| 制約条件 | ... |
| 優先順位 | ... |
| 未確定事項 | ... |
```
